{{ define "main" }}
   {{- $ctx := . -}}
        <article class="list-article">
            {{- partial "handle-content" .Content }}
        </article>
    {{- /* Define a section to pull recent posts from. This will default to the section with the most number of pages, unless configured */ -}}
    {{- $mainSections := site.Params.mainSections | default (slice "post") -}}
    {{- /* Create a variable with that section to use in multiple places. */ -}}
    {{- $sectionPages := where (where (where .Site.Pages "Section" "in" $mainSections) "Parent.Kind" "ne" "home") "Parent.Parent.Kind" "ne" "section" -}}
    {{- /* Check to see if the section is defined for ranging through it */ -}}
    {{- $n_posts := $.Param "recent_posts_number" | default 3 }}
    {{ partial "summary-list.html" (dict "page" .Page  "pages" $sectionPages "numPosts" $n_posts "sectionName" "Recent Articles" "nameAsHeading" true) }}
    {{- with .Params.page_footnote | default .Params.footnotePage }}
    <div class="page-footnote">{{- . | $ctx.RenderString -}}</div>
    {{- end -}}
{{- end -}}
{{- define "page-navigation-block" -}}
<span></span>
{{- /* Omit page navigation on home page */ -}}
{{- end -}}
{{- /* Remove trailing newlines */ -}}
